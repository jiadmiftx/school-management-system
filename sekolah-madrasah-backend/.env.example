# Copy this file to .env and fill in the required values

# =============================================================================
# REST API CONFIGURATION
# =============================================================================
# Server port (default: 8080)
REST_PORT=8080

# Server address binding (default: 0.0.0.0)
REST_ADDRESS=0.0.0.0

# CORS origins - comma separated list of allowed origins (default: *)
REST_CORS_ORIGIN=*

# Debug mode - enables debug logs and features (default: true)
REST_DEBUG_MODE=true

# JWT secret key for authentication - REQUIRED
# Generate a strong random string: openssl rand -base64 32
REST_SECRET=your-jwt-secret-key-here

# Cron authentication token for scheduled tasks - REQUIRED
X_AUTH_CRON=your-cron-auth-token-here

# Optional: Basic authentication for Swagger documentation
# Leave empty to disable Swagger auth
SWAGGER_USER=
SWAGGER_PASSWORD=

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
# Database connection details - ALL REQUIRED
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=your-db-username
DB_PASSWORD=your-db-password
DB_NAME=your-database-name
DB_SSLMODE=require

# Database event mode (default: migrate)
# Options: migrate, create, drop, none
DB_EVENT=migrate

# =============================================================================
# ELASTIC APM MONITORING
# =============================================================================
# Enable/disable APM monitoring (default: true)
ELASTIC_APM_ENABLED=true

# APM service identification - ALL REQUIRED IF ENABLED
ELASTIC_APM_SERVICE_NAME=school-management
ELASTIC_APM_SERVER_URL=https://your-apm-server.example.com
ELASTIC_APM_SECRET_TOKEN=your-apm-secret-token

# Verify APM server certificate (default: true)
ELASTIC_APM_VERIFY_SERVER_CERT=true

# =============================================================================
# MQTT MESSAGE BROKER
# =============================================================================
# MQTT broker connection - ALL REQUIRED
MQTT_HOST=your-mqtt-broker.example.com
MQTT_PORT=1883
MQTT_USER=your-mqtt-username
MQTT_PASSWORD=your-mqtt-password

# =============================================================================
# AWS S3 STORAGE
# =============================================================================
# AWS S3 configuration - ALL REQUIRED FOR S3 FUNCTIONALITY
# Leave empty if not using S3 storage
AWS_S3_BASE_URL=https://your-bucket.s3.amazonaws.com
AWS_S3_BUCKET_NAME=your-bucket-name
AWS_S3_ACCESS_KEY_ID=your-aws-access-key
AWS_S3_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_PREFIX_PATH=optional-path-prefix/
AWS_S3_REGION=us-east-1

# =============================================================================
# ELASTICSEARCH CONFIGURATION
# =============================================================================
# Elasticsearch connection - AT LEAST ONE AUTH METHOD REQUIRED
ELASTIC_HOST=http://localhost:9200
ELASTIC_USERNAME=your-elastic-username
ELASTIC_PASSWORD=your-elastic-password

# Alternative authentication methods (use instead of username/password)
ELASTIC_API_KEY=your-elastic-api-key
ELASTIC_CLOUD_ID=your-elastic-cloud-id

# Elasticsearch index prefix - REQUIRED
ELASTIC_INDEX=umkm-index

# Optional: Path to custom SSL certificate
ELASTIC_CERT_PATH=/path/to/cert.pem

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# AES encryption key for sensitive data - REQUIRED
# Generate a 32-character key: openssl rand -hex 16
AES_KEY=your-32-character-aes-key-here

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
#
# Required Variables:
# - REST_SECRET: JWT authentication
# - X_AUTH_CRON: Scheduled task authentication
# - DB_HOST, DB_PORT, DB_USERNAME, DB_PASSWORD, DB_NAME: Database connection
# - ELASTIC_INDEX: Elasticsearch index name
# - AES_KEY: Data encryption
#
# Optional Variables:
# - All AWS S3 variables (can leave empty if not using S3)
# - MQTT variables (if not using message broker)
# - Swagger auth variables (for documentation protection)
#
# Security Recommendations:
# 1. Use strong, randomly generated secrets
# 2. Don't commit real .env files to version control
# 3. Use different secrets for different environments
# 4. Rotate secrets regularly